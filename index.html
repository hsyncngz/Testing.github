<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Dinamik Fiyat Listesi</title>
    <style>
        /* Sadece görünümü düzenlemek için basit CSS */
        body { font-family: sans-serif; padding: 20px; background-color: #f4f4f4; }
        .urun-listesi { display: flex; gap: 20px; justify-content: center; }
        .urun-kart {
            background: white;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            text-align: center;
            width: 300px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .urun-kart img { max-width: 100%; height: auto; border-radius: 4px; margin-bottom: 15px; }
        .urun-adi { font-size: 1.4em; color: #333; margin-bottom: 10px; }
        /* Fiyatın çekileceği alanı belirginleştiriyoruz */
        .urun-fiyat { font-size: 2em; color: #e94e77; font-weight: bold; }
        .yukleniyor { color: orange; }
    </style>
</head>
<body>

    <h1>Ürün Fiyat Listesi</h1>
    
    <div class="urun-listesi">

        <div class="urun-kart">
            <img src="gorsel1.jpg" alt="Ürün A Görseli">
            <div class="urun-adi">Ultra HD Monitör</div>
            <p>Sınırları zorlayan netlik ve canlı renkler. Profesyonel kullanım için ideal.</p>
            <div class="urun-fiyat" id="urun_a_fiyati"><span class="yukleniyor">Fiyat Yükleniyor...</span></div>
        </div>

        <div class="urun-kart">
            <img src="gorsel2.jpg" alt="Ürün B Görseli">
            <div class="urun-adi">Mekanik Klavye</div>
            <p>Yüksek tepkime süresi ve dayanıklı tuşlar ile oyun deneyiminizi artırın.</p>
            <div class="urun-fiyat" id="urun_b_fiyati"><span class="yukleniyor">Fiyat Yükleniyor...</span></div>
        </div>
        
        <div class="urun-kart">
            <img src="gorsel3.jpg" alt="Ürün C Görseli">
            <div class="urun-adi">Kablosuz Mouse</div>
            <p>Ergonomik tasarım ve uzun pil ömrü.</p>
            <div class="urun-fiyat" id="urun_c_fiyati"><span class="yukleniyor">Fiyat Yükleniyor...</span></div>
        </div>

    </div>

    <script>
        // JSON dosyasını çekip fiyatları HTML'e yerleştiren fonksiyon
        async function fiyatlariCekVeGoster() {
            const jsonDosyaYolu = 'fiyatlar.json';

            try {
                // 1. JSON dosyasını oku (Fetch API kullanılır)
                const response = await fetch(jsonDosyaYolu);
                if (!response.ok) {
                    throw new Error(`HTTP hata kodu: ${response.status}`);
                }
                const fiyatVerileri = await response.json();

                // 2. Her bir fiyat bilgisini dolaş
                fiyatVerileri.forEach(urun => {
                    // JSON'daki 'id' ile HTML'deki elementi bul
                    const fiyatElementi = document.getElementById(urun.id);

                    if (fiyatElementi) {
                        // Eğer element bulunduysa, içeriğini güncelle
                        fiyatElementi.innerHTML = `${urun.fiyat} ${urun.para_birimi}`; 
                    } else {
                        console.warn(`HTML'de '${urun.id}' ID'li bir element bulunamadı.`);
                    }
                });

            } catch (error) {
                console.error('Fiyatlar yüklenirken bir hata oluştu:', error);
                // Kullanıcıya bir hata mesajı gösterebiliriz
                const tumFiyatAlanlari = document.querySelectorAll('.urun-fiyat');
                tumFiyatAlanlari.forEach(alan => {
                    alan.innerHTML = 'Fiyatlar Yüklenemedi.';
                    alan.style.color = 'red';
                });
            }
        }

        // Fonksiyonu sayfa yüklendiğinde çalıştır
        fiyatlariCekVeGoster();
    </script>
    </body>
</html>
