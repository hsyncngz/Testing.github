<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>HLS (m3u8) Destekli Video Oynatıcı</title>
    <style>
        body { background-color: #1a1a1a; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        #video-player { max-width: 90%; max-height: 90vh; border: 5px solid #007bff; }
        .mesaj { color: white; font-size: 20px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>

    <video id="video-player" controls autoplay muted></video>
    <div class="mesaj" id="mesaj">Kontrol sayfasından bir video yükleniyor...</div>

    <script>
        const videoPlayer = document.getElementById('video-player');
        const mesaj = document.getElementById('mesaj');
        let lastLoadedUrl = '';
        let hls = null; // Hls.js objesini tutmak için

        function loadVideoSource(url) {
            // Önceki HLS oynatıcısını temizle
            if (hls) {
                hls.destroy();
                hls = null;
            }

            // Eğer URL m3u8 ile bitiyorsa ve tarayıcı HLS'yi doğal desteklemiyorsa
            if (url.endsWith('.m3u8') && Hls.isSupported()) {
                console.log('HLS (m3u8) akışı algılandı. Hls.js ile yükleniyor.');
                
                hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoPlayer);
                hls.on(Hls.Events.MANIFEST_PARSED, function() {
                    videoPlayer.muted = true; // Otomatik oynatma için sessiz başlatma denemesi
                    videoPlayer.play().catch(e => console.log('Oynatma engell
